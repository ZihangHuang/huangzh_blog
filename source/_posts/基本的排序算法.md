---
title: 基本的排序和查找算法
date: 2018-08-18 18:51:49
categories: 技术
tags: [算法]
---

虽然前端工程师用到算法的时候不是很多，但最基本的几种方法还是记录下来，以备不时之需。
话不多说，直接上代码吧。

### 最简单的排序法

<!--more-->

```javascript
function sorts(array){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    for( var i=0; i < array.length; i++){
      for( var j=i+1; j < array.length; j++ ){
        if( array[i] > array[j] ){
          var v = array[i]
          array[i] = array[j]
          array[j] = v
        }
      }
    }
  }
  return array
}
var oldArr = [4,6,2,7,12,34,46,3,55]
var newArr = sorts(a)
console.log(newArr)  //[2, 3, 4, 6, 7, 12, 34, 46, 55]
```

### 冒泡排序法(平均时间复杂度O(n^2))

方法 1：

```javascript
function sorts(array,way){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    //降序
    if(way == 'a'){
      for( var x=0; x < array.length; x++){
        for( var y=0; y < array.length-x; y++ ){
          if( array[y] < array[y+1] ){
            var g = array[y]
            array[y] = array[y+1]
            array[y+1] = g
          }
        }
      }
    }
    //升序
    else{
      for( var i=0; i < array.length; i++){
        for( var j=array.length-1; j >=i; j-- ){
          if( array[j] < array[j-1] ){
            var v = array[j]
            array[j] = array[j-1]
            array[j-1] = v
          }
        }
      }
    }
  }
  return array;
}
var oldArr1 = [4,6,2,7,12,34,46,3,55]
var oldArr2 = [4,6,2,7,12,34,46,3,55]
var newArr1 = sorts(oldArr1)
var newArr2 = sorts(oldArr2, 'a')
console.log(newArr1)  //[2, 3, 4, 6, 7, 12, 34, 46, 55]
console.log(newArr2)  //[55, 46, 34, 12, 7, 6, 4, 3, 2]
```

方法 2：

上面的冒泡排序法还可以优化一下，不过只优化升序，降序的类似。

```javascript
function sorts(array){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    //设置一个标记，若没有执行交换，说明后面待排的数字顺序已经排好了，则退出循环，不用再比较
    var flag = true
    for( var i=0; i < array.length && flag; i++){
      flag = false
      for( var j=array.length-1; j >=i; j-- ){
        if( array[j] < array[j-1] ){
          var v = array[j];
          array[j] = array[j-1]
          array[j-1] = v
          flag = true
        }
      }
    }
  }
  return array
}
var oldArr = [4,6,2,7,12,34,46,3,55]
var newArr = sorts(oldArr)
console.log(newArr) //[2, 3, 4, 6, 7, 12, 34, 46, 55]
```

### 简单选择排序法(平均时间复杂度O(n^2))

(1)从待排序序列中，找到关键字最小的元素；
(2)如果最小元素不是待排序序列的第一个元素，将其和第一个元素互换；
(3)从余下的 N - 1 个元素中，找出关键字最小的元素，重复(1)、(2)步，直到排序结束。

```javascript
function sorts(array){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    for( var i=0; i < array.length; i++){
      //设置一个最小的关键字
      var min = i
      for( var j=i+1; j < array.length; j++ ){
        if( array[min] > array[j] ){
          min = j
        }
      }
      if( i != min){
        var v = array[min];
        array[min] = array[i]
        array[i] = v
      }
    }
  }
  return array
}
var oldArr = [4,6,2,7,12,34,46,3,55]
var newArr = sorts(a)
console.log(newArr) //[2, 3, 4, 6, 7, 12, 34, 46, 55]
```

### 直接插入排序法(平均时间复杂度O(n^2))

每一步将一个待排序的记录，插入到前面已经排好序的有序序列中去，直到插完所有元素为止。

方法 1：

```javascript
function sorts(array){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    for( var i=1; i < array.length; i++){
      for( var j=i-1; array[j] > array[j+1]; j-- ){
        var v = array[j];
        array[j] = array[j+1]
        array[j+1] = v
      }
    }
  }
  return array
}

var oldArr = [4,6,2,7,12,34,46,3,55,0];
var newArr = sorts(oldArr)
console.log(newArr) //[0, 2, 3, 4, 6, 7, 12, 34, 46, 55]
```

方法 2：

```javascript
function sorts(array){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    for( var i=1; i < array.length; i++){
      var temp = array[i]
      for( var j=i-1; temp < array[j]; j-- ){
        array[j+1] = array[j]
      }
      array[j+1] = temp
    }
  }
  return array
}
var oldArr = [4,6,2,7,12,34,46,3,55,0];
var newArr = sorts(oldArr)
console.log(newArr) //[0, 2, 3, 4, 6, 7, 12, 34, 46, 55]
```

### 快速排序（平均情况下快速排序的时间复杂度是O(nlogn)，最坏情况是O(n^2)）

(1)从数列中挑出一个元素，称为 “基准”（pivot）；
(2)重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这次操作后退出之后，该基准就处于数列的中间位置；
(3)递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。

```javascript
function quickSort(arr) {
    if(arr.length < 2) return arr

    const leftArr = []
    const rightArr = []
    // 每次选择最左边的数作为基数，或者也可以Math.floor(Math.random() * list.length)选择一个随机的数
    const pivotIndex = 0 
    const pivot = arr[pivotIndex]

    for(let i = pivotIndex + 1, len = arr.length; i < len; i++) {

        if(arr[i] <= pivot) {
            leftArr.push(arr[i])
        }else if(arr[i] > pivot) {
            rightArr.push(arr[i])
        }
    }

    return quickSort(leftArr).concat([pivot]).concat(quickSort(rightArr))
}


function quickSort2(arr){
  if (arr.length<2) { return arr; }
  // 定义左指针, 每次选择最左边的数作为基数
  var left=0; 
  // 定义右指针
  var right=arr.length-1;
  //开启每一轮的排序
  while(left<right){
    // 寻找右边比arr[0]小的数的下标
    while(arr[right]>=arr[0] && left<right){
      right=right-1;
    }
    // 寻找左边比arr[0]大的数的下标
    while(arr[left]<=arr[0] && left<right){
      left++;
    }
    //当左边指针与右边指针相遇后，交换arr[0]与当前两个指针所在的元素
    if (right==left) {
      let mid=arr[right];
      arr[right]=arr[0];
      arr[0]=mid;
      break;
    }
    // 当左指针小于右指针的位置，交换两个指针当前位置的元素
    let tem=arr[right];
    arr[right]=arr[left];
    arr[left]=tem;
  }
  //递归实现
  return quickSort(arr.slice(0,left)).concat(arr.slice(left,right+1)).concat(quickSort(arr.slice(right+1)));
}

console.log('result: ', quickSort([2, 10, 3, 1, 1, 5, 2]))
// [1, 1, 2, 2, 3, 5, 10]
console.log('result2: ', quickSort2([2, 10, 3, 1, 1, 5, 2]))
// [1, 1, 2, 2, 3, 5, 10]
```

### 顺序表查找

```javascript
//查找数组中有没有某个值，有返回其位置，否则返回-1
function searchValue(array,value){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    for (var i = 0; i < array.length; i++) {
      if( array[i] == value ){
        return i
      }
    }
    return -1;
  }
}
var arr = [1,'f','g',5,8]
var index = searchValue(arr, 8)
console.log(index)  //4
```

### 二分查找

```javascript
//查找数组中有没有某个值，有返回其位置，否则返回-1
function searchValue(array,value){
  if(!array instanceof Array){
    console.log('您输入的不是数组')
  }else{
    var hign = array.length-1,
      low = 0,
      mid
      while(low <= hign){
        mid =Math.floor((low+hign)/2);
        if( value < array[mid] ){
          hign = mid-1
        }else if( value > array[mid] ){
          low = mid+1
        }else{
          return mid
        }

      }
  }
  return -1
}
var arr = [1,2,3,4,5,6,7,8,9]
var index = searchValue(arr, 5)
console.log(index) //4
```
