---
title: 两种遍历算法
date: 2019-07-31 18:22:01
categories:
tags:
---

记录一下深度优先遍历和广度优先遍历。

<!--more-->

有如下 dom 结构：

```html
<div class="parent">
    <div class="child-1">
        <div class="child-1-1">
            <div class="child-1-1-1">
                a
            </div>
        </div>
        <div class="child-1-2">
            <div class="child-1-2-1">
                b
            </div>
        </div>
        <div class="child-1-3">
            c
        </div>
    </div>
    <div class="child-2">
        <div class="child-2-1">
            d
        </div>
        <div class="child-2-2">
            e
        </div>
    </div>
    <div class="child-3">
        <div class="child-3-1">
            f
        </div>
    </div>
</div>
```

把 dom 的每个元素节点（或者其属性等）都遍历出来：

# 深度优先遍历

```javascript
var parentDom = document.querySelector(".parent");
//把dom的每个元素节点（或者其属性等）都遍历出来

//递归1
function deepTraversal1(node, nodeList = []) {
    if (node !== null) {
        //nodeList.push(node)
        nodeList.push(node.className);
        var children = node.children;
        for (var i = 0, len = children.length; i < len; i++) {
            deepTraversal1(children[i], nodeList);
        }
    }
    return nodeList;
}
//console.log(deepTraversal1(parentDom))

//递归2
function deepTraversal2(node) {
    var nodeList = [];
    if (node !== null) {
        nodeList.push(node.className);
        var children = node.children;
        for (var i = 0, len = children.length; i < len; i++) {
            nodeList = nodeList.concat(deepTraversal2(children[i]));
        }
    }
    return nodeList;
}
//console.log(deepTraversal2(parentDom))

//非递归
function deepTraversal3(node) {
    var nodeList = [];
    var stack = [];

    stack.push(node);
    while (stack.length > 0) {
        //console.log('stack:', stack)
        //nodeList = [], stack = [parent]
        //nodeList = [parent], stack = [child-3, child-2, child-1]
        //nodeList = [parent, child-1], stack = [child-3, child-2, child-1-3, child-1-2, child-1-1]
        //nodeList = [parent, child-3, child-1-1, ], stack = [child-3, child-2, child-1-3, child-1-2, child-1-1-1]
        //nodeList = [parent, child-3, child-1-1, child-1-1-1], [child-3, child-2, child-1-3, child-1-2]
        //nodeList = [parent, child-3, child-1-1, child-1-1-1, child-1-2], [child-3, child-2, child-1-3, child-1-2-1]
        //......
        var item = stack.pop();
        nodeList.push(item);
        var children = item.children;
        for (var i = children.length - 1; i > -1; i--) {
            stack.push(children[i]);
        }
    }
    return nodeList;
}
//console.log(deepTraversal3(parentDom))
```

# 广度优先遍历

```javascript
function wideTraversal(node) {
    var nodeList = [];
    var stack = [];

    stack.push(node);
    while (stack.length > 0) {
        //console.log('stack:', stack)
        //nodeList = [], stack = [parent]
        //nodeList = [parent], stack = [child-1, child-2, child-3]
        //nodeList = [parent, child-1] = [child-2, child-3, child-1-1, child-1-2, child-1-3]
        //nodeList = [parent, child-1, child-2] = [child-3, child-1-1, child-1-2, child-1-3, child-2-1]
        //......
        var item = stack.shift();
        nodeList.push(item);
        var children = item.children;
        for (var i = 0, len = children.length; i < len; i++) {
            stack.push(children[i]);
        }
    }
    return nodeList;
}
console.log(wideTraversal(parentDom));
```
